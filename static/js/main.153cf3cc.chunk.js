(this["webpackJsonpsnek-game"]=this["webpackJsonpsnek-game"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(10),o=n.n(i),a=(n(16),n(9)),s=n(11),l=n(2),u=(n(17),n(0)),d=30,h=new Array(900).fill(void 0).map((function(e,t){return t})),j=function(e,t){var n=e%d,c=e+{up:-30,down:d,left:-1,right:1}[t];return"left"===t&&0===n?e+d-1:"right"===t&&29===n?e-d+1:c===h.length+d?0:c<0?h.length+c:c>h.length?c-h.length:c},f=function(e){var t=h.filter((function(t){return!e.includes(t)}));return t[Math.floor(Math.random()*t.length)]},b=h.length/2+15,O=[b-4,b-3,b-2,b-1,b],g=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),b=o[0],g=o[1],v=Object(c.useState)(0),x=Object(l.a)(v,2),p=x[0],w=x[1],m=Object(c.useState)(O),y=Object(l.a)(m,2),k=y[0],S=y[1],A=Object(c.useState)("right"),K=Object(l.a)(A,2),C=K[0],D=K[1],M=Object(c.useState)(f(k)),P=Object(l.a)(M,2),B=P[0],E=P[1],G=k.length-O.length,I=100-(G<90?k.length:90);Object(c.useEffect)((function(){if(!n){var e=Object(s.a)(k),t=(e[0],e.slice(1)),c=k[k.length-1],r=j(c,C);if(k.includes(r))g(!0);else{if(r===B){var i=[].concat(Object(a.a)(k),[r]);S(i),E(f(i))}else S([].concat(Object(a.a)(t),[r]));setTimeout((function(){return w(p+1)}),I)}}}),[p,n]);var J=function(e,t){var n=k.indexOf(e);if(t?k.length-1===n||-1===n:0===n||-1===n)return"";var c=k[n+(t?1:-1)];return e-c===-1||e-c===29?"right":e-c===1||e-c===-29?"left":e-c===-30||e-c===h.length-d?"down":e-c===d||e-c===-h.length+d?"up":""};return Object(u.jsxs)("div",{id:"grid-container",tabIndex:0,onKeyDown:function(e){if("KeyP"!==e.code){var t={ArrowLeft:"left",ArrowRight:"right",ArrowDown:"down",ArrowUp:"up",KeyA:"left",KeyD:"right",KeyS:"down",KeyW:"up"}[e.code];if(t){var n=j(k[k.length-1],t);k.length>1&&n===k[k.length-2]||D(t)}}else r(!0)},onBlur:function(){return r(!0)},onFocus:function(){return r(!1)},children:[h.map((function(e,t,n){return Object(u.jsx)("div",{className:"\n              cell\n              ".concat(k.includes(t)?"snake":"","\n              ").concat(B===t?"food":"","\n              ").concat(J(e,!0),"\n              ").concat(J(e,!1),"\n            "),style:{height:"".concat(100/30,"%"),width:"".concat(100/d,"%")}},e)})),Object(u.jsxs)("div",{id:"score",children:[Object(u.jsxs)("div",{children:["Current score: ",G]}),!n&&!b&&Object(u.jsx)("div",{children:"Press P to pause"})]}),Object(u.jsxs)("div",{id:"overlay",children:[b&&!n&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Game over"}),Object(u.jsx)("div",{onClick:function(){w(0),g(!1),S(O),E(f(O)),D("right")},children:"Click here to restart"})]}),!b&&n&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Game paused"}),Object(u.jsx)("div",{onClick:function(){return r(!1)},children:"Click here to resume"})]})]})]})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.153cf3cc.chunk.js.map