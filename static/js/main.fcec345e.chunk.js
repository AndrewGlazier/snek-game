(this["webpackJsonpsnek-game"]=this["webpackJsonpsnek-game"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(10),o=n.n(i),a=(n(16),n(9)),s=n(11),h=n(2),l=(n(17),n(0)),u=30,d=new Array(900).fill(void 0).map((function(e,t){return t})),j=function(e,t){var n=e%u,c=e+{up:-30,down:u,left:-1,right:1}[t];return"left"===t&&0===n?e+u-1:"right"===t&&29===n?e-u+1:c===d.length+u?0:c<0?d.length+c:c>d.length?c-d.length:c},f=function(e){var t=d.filter((function(t){return!e.includes(t)}));return t[Math.floor(Math.random()*t.length)]},b=d.length/2+15,g=[b-4,b-3,b-2,b-1,b],O=function(){var e=Object(c.useState)(),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),o=Object(h.a)(i,2),b=o[0],O=o[1],v=Object(c.useState)(!1),x=Object(h.a)(v,2),p=x[0],w=x[1],m=Object(c.useState)(0),y=Object(h.a)(m,2),S=y[0],k=y[1],A=Object(c.useState)(g),K=Object(h.a)(A,2),C=K[0],M=K[1],T=Object(c.useState)("right"),D=Object(h.a)(T,2),E=D[0],P=D[1],B=Object(c.useState)(f(C)),G=Object(h.a)(B,2),I=G[0],J=G[1],X=C.length-g.length,Y=100-(X<90?C.length:90);Object(c.useEffect)((function(){if(!b&&!p){var e=Object(s.a)(C),t=(e[0],e.slice(1)),n=C[C.length-1],c=j(n,E);if((c===I?C:t).includes(c))w(!0);else{if(c===I){var r=[].concat(Object(a.a)(C),[c]);M(r),J(f(r))}else M([].concat(Object(a.a)(t),[c]));setTimeout((function(){return k(S+1)}),Y)}}}),[S,b]);var F=function(e,t){var n=C.indexOf(e);if(t?C.length-1===n||-1===n:0===n||-1===n)return"";var c=C[n+(t?1:-1)];return e-c===-1||e-c===29?"right":e-c===1||e-c===-29?"left":e-c===-30||e-c===d.length-u?"down":e-c===u||e-c===-d.length+u?"up":""};return Object(l.jsx)("div",{id:"page-container",onTouchStart:function(e){if(1===e.touches.length){var t=e.touches[0],n=t.screenX,c=t.screenY;r([n,c])}else r(void 0)},onTouchEnd:function(e){if(1===e.changedTouches.length&&n){var t,c=Object(h.a)(n,2),r=c[0],i=c[1],o=e.changedTouches[0],a=o.screenX,s=o.screenY;t=Math.abs(a-r)>Math.abs(s-i)?a-r>0?"right":"left":s-i>0?"down":"up";var l=j(C[C.length-1],t);C.length>1&&l===C[C.length-2]||P(t)}},children:Object(l.jsxs)("div",{id:"grid-container",tabIndex:0,onKeyDown:function(e){if("KeyP"!==e.code){var t={ArrowLeft:"left",ArrowRight:"right",ArrowDown:"down",ArrowUp:"up",KeyA:"left",KeyD:"right",KeyS:"down",KeyW:"up"}[e.code];if(t){var n=j(C[C.length-1],t);C.length>1&&n===C[C.length-2]||P(t)}}else O(!0)},onBlur:function(){return O(!0)},onFocus:function(){return O(!1)},children:[d.map((function(e,t,n){return Object(l.jsx)("div",{className:"\n                cell\n                ".concat(C.includes(t)?"snake":"","\n                ").concat(I===t?"food":"","\n                ").concat(F(e,!0),"\n                ").concat(F(e,!1),"\n              "),style:{height:"".concat(100/30,"%"),width:"".concat(100/u,"%")}},e)})),Object(l.jsxs)("div",{id:"score",children:[Object(l.jsxs)("div",{children:["Current score: ",X]}),!b&&!p&&Object(l.jsx)("div",{children:"Press P to pause"})]}),Object(l.jsxs)("div",{id:"overlay",children:[p&&!b&&Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"Game over"}),Object(l.jsx)("div",{onClick:function(){k(0),w(!1),M(g),J(f(g)),P("right")},children:"Click here to restart"})]}),!p&&b&&Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"Game paused"}),Object(l.jsx)("div",{onClick:function(){return O(!1)},children:"Click here to resume"})]})]})]})})};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.fcec345e.chunk.js.map